原文链接：https://github.com/bitshares/bsips/blob/master/bsip-0006.md
译者：bt666

    BSIP:0006
    题目:做市商激励
    作者:Daniel Larimer
    	Fabian Schuh <Fabian@BitShares.eu>
    状态:草案
    类型:协议
    创建:2015-12-16
    讨论:< https://github.com/cryptonomex/graphene/issues/475 >
    < https://bitsharestalk.org/index.php/topic,20482.0.html >
    工作人员:待定

## 介绍 ##

市场的成败在很大程度上取决于市场参与者的数量。参与者的数量取决于市场的流动性。这是一个先有鸡还是先有蛋的问题，必须通过引导一个具有流动性的新市场来解决。这种引导过程风险很大，因为它涉及到在非流动性市场上进行交易。通过适当的激励措施，在没有必要采取额外激励措施之前，引导市场就可以变得有利可图。


## 做市商 ##

做市商是指那些开单在一段最少时间后(至少1个区块时间)成交订单的人。这些人开订单来满足其他人购买/售卖的需求。即时看起来有深度，但是如果订单从未成交过得话，这样的人也不符合市商的条件。更具体地说，做市商一次又一次地买进和卖出，把买卖之间的差价作为他们的利润。如果市场开始向任何一个方向持续波动，这会是一个有风险的操作。

## 灵活的卖方手续费 ##

增加流动性的第一步是降低与市场交易相关的人为成本。这意味着，为那些提供流动性的人（卖方）降低交易费用，同时只收取那些消费流动性的人（买方）。 根据这一提议，我们将为资产引入一个新参数，允许发行商为卖方和买方设置不同的市场费用。早期可能希望卖方0手续费，但为了灵活性，我们将参数化它。

## 奖励做市商 ##

简单的降低费用对于降低在非流动性市场交易相关的风险(成本)几乎没有任何作用。这些成本不成比例地会由市场的早期参与者承担，特别是在动荡的市场中。为了抵消这些成本，这些做市商的人应该以不会给市场外的参与者带来成本的方式补偿他们的风险。目的是将市场手续费这比收入重新分配给买卖方。

即时再分配只不过是转移均衡价格而已。相反，我们建议重新分配在市场被引导到有利于市场增长的风险承担者手中后产生的未来市场的手续费。每个市场就像一个创业企业，就像所有的创业企业一样，市场需要一些启动资金。就市场而言，启动资金的要求是提供流动性。公司的股份通常与每位创始人贡献的资本成正比。随着公司的成熟和未来几轮资本的增加，公司可以以越来越高的价格出售他们的股份(相同的资本提供更少的股份)。

## 详情 ##

### 定义 ###

- MSHARES - 一种特殊的资产，具有最大的供应量M，并根据用户提供给特定资产的每日流动性(交易量)的百分比对用户进行奖励。每一种资产都有可能拥有自己独特的mshare。
- RESERVE - 随时间分配的剩余MSHARES数
- BUCKET - MSHARES的集合，可以在当前的流动性提供者之间进行分配。这用来实现[漏桶算法](https://en.wikipedia.org/wiki/Leaky_bucket)的
- DECAY_RATE — 每秒可以移入到BUCKET中的RESERVE的最大百分比。这就定义了储备金的半衰期，以及早期流动性提供者相对于后期流动性提供者具有优势的程度。
- B - 在任何给定时刻BUCKET中MSHARES数。
- Bmax - BUCKET可能累积的最大MSHARES（DECAY_RATE的倍数）。
- Vavg - 近似于市场上的平均交易量
- Vperiod - 超过平均容量的秒数(建议1周)
- V -正在交易的卖单数(以UIA单位计算)
- REWARD - 制造商获得的MSHARES奖励
- T - 自上次匹配以来的秒数
- Tmin - 订单在账面上的最小时间，从而才能获得市商的奖励

### 匹配时执行的计算 ###

桶盖(顶部为Bmax):

    Bchange = min( B + RESERVE * DECAY_RATE * T, Bmax ) - B
    RESERVE = RESERVE - Bchange
    B = B + Bchange

奖励一小部分桶:

    REWARD = B * V / (Vavg + V)

从桶中移除奖励:

    B  = B - REWARD

更新加权平均容量

    Vavg  = Vavg * MAX(0,Vperiod-T)/Vperiod + V

在计算回报后，卖方的MSHARES余额将会增加。

### 分配市场费用 ###

每个维护间隔，UIA的累计市场手续费用于在UIA/MSHARES市场中购买MSHARES。回购MSHARES所需的市场手续费百分比是发行商设定的一个参数。它可以增加，但绝不减少。

所有的参数都由资产发行商配置，包括DECAY_RATE, Bmax, RESERVE, Vperiod, Tmin, maker fee，以及分配给卖方的市场手续费的百分比。发行商可以撤销其更改参数的许可，从而降低发行商更改条款和影响MSHARES价值的风险。

## 卖方发行资产 ##

该提案的结果是创建了一种名为卖方发行资产的新型资产，它只能由上述的算法创建/销毁。

## 资助该提案 ##

我们认为，实现一个特性的成本必须低于该特性的当前价值。Cryptonomex相信，这个特性的价值远远超过实现它的成本，因此，Cryptonomex将以投机的方式实现它，以削减所有使用该特性来提高流动性的资产的所有MSHARES份额。

我们将创建一个新的网络发行资产，称为MAKER，它将自动回购所有已发行资产的20%。此资产的最大供应量为1,000,000 MAKER，最初将100%分配给Cryptonomex，以实现此功能。Cryptonomex将向市场出售MAKER，以支付开发成本。

## 批准该提案 ##

为了使这个提议得到网络的批准，将会创建一个工人提案，向Cryptonomex支付100,000 BTS。如果提案得到资助，那么就假定所需的硬分叉已经得到了股东们的批准，同时开发工作将会有补偿。

## 释疑示例 ##

如果一个特定的资产发行商定义了他们的衰减率，使得所有的MSHARES的50%在第一年被分配，那么提供100%流动性的人将获得未来所有市场手续费的50%作为流动性供给的交换。不管那一年的成交量是多少，重要的是每个做市商的人提供的流动性的相对百分比。

如果市场一开始很小，只有1万美元/ 24小时的交易量，然后增加到3000万美元/小时的交易量，那么0.2%的市场手续费每天就是3万美元，其中一半将属于第一年提供1万美元流动性的个人。与此同时，一旦成交量达到3000万美元，那些提供1万美元流动性的人将获得非常少的MSHARES。

假设市场为交易者提供了一个有用的功能，这些激励应该能够很容易地鼓励早期采纳者来引导市场。

## 防止滥用 ##

必须对所有系统进行分析，从而防止潜在的滥用。在这种情况下，我们担心的是一个坏家伙试图创造虚假交易量从而获利但却不实际提供流动性。以下三个因素防止了滥用:

1. 创建虚假交易量的成本是非0的，可以通过网络收取创建订单的手续费的形式实现。
1. 创建虚假交易量还需要“买方“，并支付买方的市场费用。资产发行商只会将一部分买方费用用于回购。这意味着创建MSHARES的成本非0。
1. 如果通过创建虚假交易量来创造MSHARES是有利可图的，那么就会有市场竞争来争夺这笔“免费资金”。这就像挖矿一样困难，因为会有很多不同的个人竞争创造“虚假交易量”，直到每个市场参与者赚的MSHARES的百分比接近创建MSHARES的成本。

我们的结论是这个算法的设计是可以防止滥用的。如果滥用的话，网络和发行商应该获利很大。

## 讨论 ##

### 购买MSHARES的费用 ###

市场费用使用UIA来计价，其价值是从交易中获得的UIA的百分比(即:0.2%)。如果交易价格是1000美元，那么2美元就是“买家”支付的“市场费用”。这2美元将根据发行商设定的参数进一步分配，发行商可以为发行商分配50%的利润，为卖家分配50%的利润。在这种情况下，$1将用于回购UIA的MSHARES。总卖家奖励为:REWARD = B*1000 / (Vavg + 1000)。这20%的奖励将用于在MSHARES/MAKER 市场中购买MAKER, 80％将用于做市商的人。

比特股将获得ORDER_CREATION_FEE，该费用是固定的，与订单大小无关，普通用户约为0.20美元，终身会员约为0.04美元。这个ORDER_CREATION_FEE与其他非市场费用一样被分发到引荐计划/网络。

BTS持有者赚取的唯一市场费用是当发行商是委员会时分配给发行商的50%(可变)。这些资金由委员会决定。

总之，BTS持有者可以像以前一样赚钱。这一提案只是为UIA发行商提供了通过利用市场未来收入来控制流动性来增加利润的机会。

### 滥用的机会 ###

似乎会有机会滥用这一点，至少在刚开始的时候是这样，那时几乎没有人在竞争。如果该资产变得很受欢迎，那么自己进行交易支付的费用似乎是微不足道的。 不过它也可能不受欢迎，这是一种风险。

想象一下这种竞争会是什么样子。每个人都试图都试图在价格不太好时自己交易，同时也试图避免成交别人的订单。

如果你们自己的订单是最便宜的。除了费用，还有什么理由不跟自己交易?如果不这样，基于对未来市场的预期量，难道我们不应该期望每个市场都完全饱和吗?

我得出的结论是，这些所尝试的“滥用”行为实际上对每个人都有好处。所有参与者都将承担他们自己的风险，而不参与并不会让你付出任何代价。这不是一个更复杂的问题，因为不了解它，并不会对你产生伤害。竞争越激烈，传播越紧密，收取的网络费用越多。会失去什么?+ 5%

### 思想实验 ###

让我们用20%的手续费来做这个实验吧，只是为了让人无法容忍。设置的卖方费用是20%。在这样的市场下，那些要求流动性的人损失20%，而提供流动性的人获得20%的收益。交易者会认为这样的市场类似于有着20%差价的市场。他们会犹豫是否购买这样一种资产，因为他们知道如果双方都接受的话，他们将会损失36%。(0.8买入和0.8卖出)这意味着，想要以最少的损失进出这样一个市场的人必须是两个交易之一的卖方，在这种情况下他们会损失4％（.8 * 1.2 = 0.96） 。那些愿意在交易双方“等待”的人可以获得44%的利润(1.2*1.2)。因此，负的卖方费用会鼓励用户去等待(这与流动性相反)。您在想要撤回头寸的的人的订单簿的两边都画了“等待线”。我猜想你会看到非常狭窄的区域和陡峭的壁垒。这个市场看起来有良好的流动性，但潜在的现实是“日间交易者”认为它是一个有20%差价的市场。

因此，在这种极端情况下，买方最终支付他们的流动性，就像他们在没有20/-20差价的卖方/买方规则的情况下支付他们的流动性一样:通过大差价。做市商最终获得的利润与买卖之间20%的差价相同。负的卖方费用在这种模式下所做的唯一一件事，就是强制执行卖方能够提供的最小价差，换句话说，就是操纵市场卖方费用的价格。与做市商竞相降低价差的做法不同，它们正在竞相成为“虚拟”价差的首支队伍。因为没有任何价值在随时间推移而变化，所有的定价行为造成(买方)短缺和(账簿双方都在等待退出的人)输气管道。

所以很明显，如果我们把卖方/买方的费用设定为大于自然差价，那么事情就会崩溃。我们真正的目标是减少利差，在最低限度的利差下，不要用急剧升降的流动性来实施最低限度的利差。

因此，这意味着我们想在不增加买方成本的情况下最大化卖方的收益。让我们看看另一个极端的市场:

1. 假设买方支付了0.1%的费用
1. 假设卖方从其他人(比如:网络)那里获得了20%的奖金。

在这个市场中，人们为了获得44%的回报而相互竞争，这就形成了巨大的流动性壁垒。这44%的回报率完全消除了几乎所有的市场波动风险。交易者/买方看到的有效价差仅为0.1%，这意味着他们对购买资产感到非常放心，因为他们知道自己可以马上转亏为盈地卖掉资产，损失仅为0.2%。假设20%的奖金没有限制，那么人们就会开始与自己交易。很明显，你必须根据订单成交前在账上停留的时间来进行奖励从而防止这种自我交易。这是我们真正想要创造的环境。

所以问题就变成了，今天你如何在不让今日交易者(买方)为之付出代价的情况下补偿卖方。我的建议是让明天的买方通过支付今天的做市来向今天的卖方付款，而不是明天的。

这里的建议是，你今天给他们0.1%的收益，再加上削减的未来所有费用。

早期提供流动性的成本要比在成熟市场提供相同流动性的成本高得多。在这种模式下，你可以在早期从卖方那里获得更多的流动性(当它的成本最高时)，而实际上不会减少未来可用的流动性(当它的成本更低时)。如果你正确地设置衰减曲线，你最终会得到“恒定流动性”等于整个市场生命周期内的平均流动性。在足够长的时间范围内，这意味着如果做市商的人相信某一特定市场的未来，那么第1年你应该获得与第30年一样多的流动性。

因此，当人们提出“简单”的规则时，他们并没有真正得到他们想要的结果。

### 版权 ###

本文档放置于公共域名下。



